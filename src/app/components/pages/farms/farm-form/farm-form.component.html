<div class="form-header">
  <a
    class="form-header__go-back"
    mat-icon-button
    routerLink="/farms"
    matTooltip="Regresar"
    matTooltipPosition="above"
    aria-label="Regresar al listado de fincas">
    <mat-icon>arrow_back</mat-icon>
  </a>
  <h2 class="form-header__title">{{ formTitle }}</h2>
</div>

<form [formGroup]="farmForm" class="farm-form" (ngSubmit)="onSubmitFarm()">
  <mat-form-field class="example-full-width">
    <mat-label>Nombre</mat-label>
    <input matInput placeholder="La Lucha" formControlName="name" />
  </mat-form-field>

  <mat-form-field class="example-full-width">
    <mat-label>Ubicaci√≥n</mat-label>
    <input matInput placeholder="La Lucha, Potrero Grande" formControlName="location" />
  </mat-form-field>

  <app-file-upload formControlName="image" placeholder="Imagen de la finca" filesAccepted="image/*" />

  <button mat-raised-button color="primary" type="submit" [disabled]="!farmForm.valid || (isFarmsLoading$ | async)">
    <mat-icon *ngIf="(isFarmsLoading$ | async) === false">save</mat-icon>
    Guardar
    <mat-icon *ngIf="isFarmsLoading$ | async"><mat-spinner diameter="18"></mat-spinner></mat-icon>
  </button>
</form>
